{% extends 'layout.njk' %}

{% from 'govuk/components/error-summary/macro.njk' import govukErrorSummary %}
{% from 'govuk/components/input/macro.njk'         import govukInput %}
{% from 'govuk/components/button/macro.njk'        import govukButton %}
{% from 'govuk/components/back-link/macro.njk'     import govukBackLink %}
{% from 'components/date-input.njk'                import dateInput %}

{% block pageTitle %}
  Document details
{% endblock %}

{% block backLink %}
  {{
    govukBackLink({
      text: 'Back',
      href: backNavigation
    })
  }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {{
        govukErrorSummary ({
          titleText: 'There is a problem with the details you gave us',
          errorList: validationResult.errors
        }) if validationResult and validationResult.errors.length > 0
      }}

      <h1 class="govuk-heading-l">
        What are the document details?
      </h1>

      <p class="govuk-body">You can check which documents contain your home address on the <a href="https://beta.companieshouse.gov.uk" class="govuk-link" rel="noreferrer noopener" target="_blank">Companies House Register</a></p>
      <p class="govuk-body">You'll need:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>the name of the document (shown on the PDF of the document)</li>
        <li>the document description as it appears on the company filing history</li>
        <li>the date the document was added to the register</li>
      </ul>

      <form method="post">
        {{
          govukInput({
            label: {
              text: 'Company name',
              classes: 'govuk-label--s',
              isPageHeading: false
            },
            errorMessage: validationResult.getErrorForField('companyName') if validationResult,
            classes: 'govuk-input--width-20',
            id: 'company-name',
            name: 'companyName',
            value: companyName,
            autocomplete: 'companyName'
          })
        }}
        {{
          govukInput({
            label: {
              text: 'Company number',
              classes: 'govuk-label--s',
              isPageHeading: false
            },
            errorMessage: validationResult.getErrorForField('companyNumber') if validationResult,
            classes: 'govuk-input--width-20',
            id: 'company-number',
            name: 'companyNumber',
            value: companyNumber,
            autocomplete: 'companyNumber'
          })
        }}
        {{
          govukInput({
            label: {
              text: 'Document description',
              classes: 'govuk-label--s',
              isPageHeading: false
            },
            hint: {
              text: 'Tell us the name and description of the document you want to remove your home address from. For example, CH01 - Director\'s details changed for Mr John Smith on 2 January 2020'
            },
            errorMessage: validationResult.getErrorForField('description') if validationResult,
            classes: 'govuk-input--width-20',
            id: 'description',
            name: 'description',
            value: description,
            autocomplete: 'description'
          })
        }}
        {{
          dateInput({
            idPrefix: 'document',
            labelText: 'Document date',
            hintText: 'For example, 12 11 2007',
            validationResult: validationResult,
            values: {
              day: day,
              month: month,
              year: year
            }
          })
        }}
        {{
          govukButton({
            text: 'Continue',
            attributes: {
              id: 'submit'
            }
          })
        }}
      </form>
    </div>
  </div>

{% endblock %}
